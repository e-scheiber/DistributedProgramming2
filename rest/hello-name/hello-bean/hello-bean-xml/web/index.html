<!doctype html>
<head>
  <script type="text/javascript" >
  <!--
    function initRequest() {
      if (window.XMLHttpRequest) {
          return new XMLHttpRequest();
      } else if (window.ActiveXObject){
          return new ActiveXObject("Microsoft.XMLHTTP");
      }
    }

    function compute() {
      var numeField=document.getElementById("nume").value;  
      var url = "/XmlHello/resources/hello"
      var msg="<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>"+   
          "<date><msg>"+numeField+"</msg></date>";
      //alert("XML message : \n"+msg);
      var req = initRequest();
      
      req.onreadystatechange = function() {
        if (req.readyState == 4) {
          if (req.status == 200) {
              parseMessages(req.responseText);
          }else {
              alert(req.status+" : "+req.statusText);
          }
        }
      };
      req.open("post", url, true);
      req.setRequestHeader("Content-Type","application/xml");
      req.send(msg);
    }

    function parseMessages(responseText) {
      var res=responseText;
      //var r = response.getElementsByTagName("result")[0];
      //var cmmdc=r.childNodes[0].nodeValue;   
      document.getElementById("rezultat").innerHTML=res;
    }
  -->
  </script>
  <title> Hello name AJAX</title>
</head>  
<body bgcolor="#bbccbb">
  <center>
  <h1> Pagina de apelare XmlHello </h1>  
    <table> 
      <tr>
        <td><label> Introduceti numele </label></td>
        <td>    
           <input type="text" id="nume" size="10" required />
        </td>
      </tr>  
      <tr>
        <td>          
           <p>
            <input type="button" value="Trimite" onClick="compute()" >
        </td>
      </tr>
    </table>  
    <p>
    <div id="rezultat" />
  <center>
</body>
</html>

