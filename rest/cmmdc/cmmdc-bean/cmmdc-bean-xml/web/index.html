<html>
  <head>
  <script type="text/javascript" >
  <!--
    function initRequest() {
      if (window.XMLHttpRequest) {
          return new XMLHttpRequest();
      } else if (window.ActiveXObject){
          return new ActiveXObject("Microsoft.XMLHTTP");
      }
    }

    function compute() {
      var mField=document.getElementById("m").value;
      var nField=document.getElementById("n").value;
      var url = "/XmlCmmdc/resources/cmmdc"
      var msg="<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>"+   
          "<date><sm>"+mField+"</sm><sn>"+nField+"</sn></date>";
      //alert("XML message : \n"+msg);
      var req = initRequest();
      
      req.onreadystatechange = function() {
        if (req.readyState == 4) {
          if (req.status == 200) {
              parseMessages(req.responseText);
          }else {
              alert(req.status+" : "+req.statusText);
          }
        }
      };
      req.open("post", url, true);
      req.setRequestHeader("Content-Type","application/xml");
      req.send(msg);
    }

    function parseMessages(responseText) {
      var res=responseText;
      //var r = response.getElementsByTagName("result")[0];
      //var cmmdc=r.childNodes[0].nodeValue;   
      document.getElementById("rezultat").innerHTML="Cmmdc = "+res;
    }
  -->
  </script>
  <title> Cmmdc AJAX</title>
  </head>
  <body>
    <h1>RESTful Cmmdc with AJAX cu mesaj XML</h1>
    <p>
    Primul numar : 
    <input type="text" id="m" value="1" size="15" >
    <p>
    Al doilea numar :
    <input type="text"  id="n" value="1" size="15" > 
    <p>
    <input type="button" value="Calculeaza" onClick="compute()" >    
    <p>
    Cel mai mare divizor comun a celor doua numere este
    <p>
    <div id="rezultat" />
  </body>
</html>
