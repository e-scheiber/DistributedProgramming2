<!doctype html>
<head>

<script type="text/javascript" >
<!--

function initRequest() {
    if (window.XMLHttpRequest) {
        return new XMLHttpRequest();
    } else if (window.ActiveXObject){
        return new ActiveXObject("Microsoft.XMLHTTP");
    }
}

function compute() {
        var mField=document.getElementById("m");
        var nField=document.getElementById("n");
        <!--var tipField=document.getElementById("tip");-->
        var url = "http://localhost:8080/cmmdcapp/resources/cmmdc/" + 
           escape(mField.value)+","+escape(nField.value);
        var req = initRequest();
        req.onreadystatechange = function() {
            if (req.readyState == 4) {
                if (req.status == 200) {
                    parseMessages(req.responseXML);
                } else {
                    alert(req.status+" : "+req.statusText);
                }
            }
        };
        req.open("get", url, true);
        req.send(null);
}

function parseMessages(responseXML) {
  var r = responseXML.getElementsByTagName("rezultat")[0];
  var cmmdc=r.childNodes[0].nodeValue;
  //alert("Cmmdc = "+cmmdc);
  document.getElementById("rezultat").innerHTML="Cmmdc = "+cmmdc;
}
-->
</script>

<title> Cmmdc AJAX</title>
</head>
 <body bgcolor="#bbccbb">
 
 <h1>Cmmdc with AJAX</h1>
  <form>
  <table> 
    <tr>
      <td><label> Primul numar </label></td>
      <td>    
         <input type="number" id="m" size="5" 
         required  min="1">
      </td>
    </tr>  
    <tr>
      <td><label> Al doilea numar </label></td>
      <td>
         <input type="number" id="n" size="5" 
         required  min="1">
      </td>
    </tr>
    <tr>
      <td>          
         <p><input type="button" value="Calculeaza" onClick="compute()">
      </td>
    </tr>
  </table>   
  </form>
   <p>
   Cel mai mare divizor comun al celor doua numere este
   <p>
   <div id="rezultat" />
   </body>
</html>
