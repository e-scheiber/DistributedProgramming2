<html>
  <head>
  <script type="text/javascript" >
  <!--
    function initRequest() {
      if (window.XMLHttpRequest) {
          return new XMLHttpRequest();
      } else if (window.ActiveXObject){
          return new ActiveXObject("Microsoft.XMLHTTP");
      }
    }

    function compute() {
      var mField=document.getElementById("m");
      var nField=document.getElementById("n");
      var url = "/JsonCmmdc/resources/cmmdc"
      var msg=JSON.stringify({
        "sm":mField.value,
        "sn":nField.value
      });     
      var req = initRequest();
      
      req.onreadystatechange = function() {
        if (req.readyState == 4) {
          if (req.status == 200) {
              parseMessages(req.responseText);
          }else {
              alert(req.status+" : "+req.statusText);
          }
        }
      };
      req.open("post", url, true);
      req.setRequestHeader("Content-Type","application/json");
      req.send(msg);
    }

    function parseMessages(responseText) {
      var res=responseText;
      var s=JSON.parse(res);
      document.getElementById("rezultat").innerHTML="Cmmdc = "+s.result;
    }
  -->
  </script>
  <title> Cmmdc AJAX</title>
  </head>
  <body>
    <h1>Cmmdc with AJAX</h1>
    <p>
    Primul numar : 
    <input type="text" id="m" value="1" size="15" >
    <p>
    Al doilea numar :
    <input type="text"  id="n" value="1" size="15" > 
    <p>
    <input type="button" value="Calculeaza" onClick="compute()" >    
    <p>
    Cel mai mare divizor comun a celor doua numere este
    <p>
    <div id="rezultat" />
  </body>
</html>
